/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var aa=this||self;function ba(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}function f(a,b){a=a.split(".");var c=aa;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c[d]&&c[d]!==Object.prototype[d]?c=c[d]:c=c[d]={}:c[d]=b}
function ca(a,b){function c(){}c.prototype=b.prototype;a.zb=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.vb=function(d,e,g){for(var l=Array(arguments.length-2),m=2;m<arguments.length;m++)l[m-2]=arguments[m];return b.prototype[e].apply(d,l)}};function da(a,b=`unexpected value ${a}!`){throw Error(b);};function h(a){return new ea(Array.from(a))}function fa(a){const b=a.size()-1;let c=-1;return{next:()=>{c++;if(b!==a.size()-1)throw Error("Underlying data changed during iteration");const d=c>b;return{value:d?null:a.get(c),done:d}}}}var ha=class{[Symbol.iterator](){return fa(this)}};function k(a){return Array.from(a.g)}var ea=class extends ha{constructor(a){super();this.g=a}get(a){return this.g[a]}size(){return this.g.length}map(a){return new ea(this.g.map(a))}};const ia=new ea([]);function ja(a){switch(a){case 12:case 9:case 11:return 2;case 10:return 3;case 1:case 6:case 16:return 1;case 2:case 7:case 15:return 5;case 3:case 4:case 5:case 8:case 13:case 14:case 17:case 18:return 0;default:da(a,"fieldType had an unknown case")}}function ka(a,b){if(2!==b)return!1;switch(a){case 12:case 9:case 11:case 10:return!1;case 1:case 6:case 16:case 2:case 7:case 15:case 3:case 4:case 5:case 8:case 13:case 14:case 17:case 18:return!0;default:da(a,"fieldType had an unknown case")}}
function la(a){var b;let c=void 0;if(a.B&&a.type){const d=a.B;switch(a.type){case 11:case 10:d instanceof ha?c=d.map(e=>e.clone()):c=d.clone();break;case 12:case 6:case 16:case 3:case 4:case 18:case 1:case 2:case 7:case 15:case 5:case 8:case 13:case 14:case 17:case 9:c=d;break;default:da(a.type,"field.type had an unknown case")}}return{ha:a.ha,M:null===(b=a.M)||void 0===b?void 0:b.slice(),B:c,type:a.type}};function ma(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ma);else{const b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ca(ma,Error);ma.prototype.name="CustomError";function na(a,b){a=a.split("%s");for(var c="",d=a.length-1,e=0;e<d;e++)c+=a[e]+(e<b.length?b[e]:"%s");ma.call(this,c+a[d])}ca(na,ma);na.prototype.name="AssertionError";var oa=null;function pa(){var a=(void 0).length,b=3*a/4;b%3?b=Math.floor(b):-1!="=.".indexOf((void 0)[a-1])&&(b=-1!="=.".indexOf((void 0)[a-2])?b-2:b-1);var c=new Uint8Array(b),d=0;qa(function(e){c[d++]=e});return c.subarray(0,d)}
function qa(a){function b(m){for(;c<(void 0).length;){var p=(void 0).charAt(c++),r=oa[p];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(p))throw Error("Unknown base64 encoding at char: "+p);}return m}ra();for(var c=0;;){var d=b(-1),e=b(0),g=b(64),l=b(64);if(64===l&&-1===d)break;a(d<<2|e>>4);64!=g&&(a(e<<4&240|g>>2),64!=l&&a(g<<6&192|l))}}
function ra(){if(!oa){oa={};for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),b=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++)for(var d=a.concat(b[c].split("")),e=0;e<d.length;e++){var g=d[e];void 0===oa[g]&&(oa[g]=e)}}};function sa(a,b){if(a===b)return!0;if(a.byteLength!==b.byteLength)return!1;for(let c=0;c<a.byteLength;c++)if(a[c]!==b[c])return!1;return!0}function ta(a,b,c){if(a.slice){const d=a.slice(b,c);if(0!==d.byteLength||b===c)return d}a=new Uint8Array(a,b,(null==c?a.byteLength:c)-b);return(new Uint8Array(a)).buffer};function ua(a){return new va(new Uint8Array(ta(a,0,void 0)))}function wa(a){return a.g?a.g:a.g=pa()}function n(a){a=wa(a);return ta(a.buffer,a.byteOffset,a.byteOffset+a.byteLength)}var va=class{constructor(a){this.g=a}R(a){return this===a?!0:a instanceof va?sa(wa(this),wa(a)):!1}},xa=new va(new Uint8Array(0));function q(a){if(0<a)var b=new ya(a,a/4294967296);else 0>a?(b=-a,a=~(-a/4294967296),b?b=~b+1:a+=1,b=new ya(b,a)):b=za;return b}function v(a){return 4294967296*a.g+(a.i>>>0)}class ya{constructor(a,b){this.i=a|0;this.g=b|0}R(a){return this===a?!0:a instanceof ya?this.i===a.i&&this.g===a.g:!1}}const za=new ya(0,0);function Aa(a,b){a.g.forEach((c,d)=>{c&&b(c,d+1)});if(a.map)for(const [c,d]of Object.entries(a.map))b(d,Number(c))}
var Ba=class{constructor(a=24){this.map=void 0;this.g=Array(a)}clone(){const a=new Ba(this.g.length);Aa(this,(b,c)=>{a.set(c,la(b))});return a}set(a,b){a<=this.g.length?this.g[a-1]=b:(this.map||(this.map={}),this.map[a]=b)}get(a){return a<=this.g.length?this.g[a-1]:this.map?this.map[a]:void 0}*[Symbol.iterator](){for(const [a,b]of this.g.entries()){const c=a,d=b;d&&(yield[c+1,d])}if(this.map)for(const [a,b]of Object.entries(this.map))yield[Number(a),b]}};let Ca=void 0;function Da(a){const b={read:[],write:[],repeated:[],packed:[]};Aa(a,(c,d)=>{if(void 0!==c.M)b.read.push(d);else if(c.B instanceof ea){const e=Ea(c);e&&(ka(c.type,c.ha)?b.packed.push({fieldNumber:d,type:c.type,value:e.g}):b.repeated.push({fieldNumber:d,type:c.type,value:k(e)}))}else b.write.push({fieldNumber:d,type:c.type,value:Fa(c)})});return b}
function Fa(a){const b=a.B;switch(a.type){case 4:case 3:case 18:case 6:case 16:return[b.i,b.g];case 12:return wa(b);case 11:case 10:return b.l();default:return b}}function Ea(a){const b=a.B;switch(a.type){case 4:case 3:case 18:case 6:case 16:return b.map(c=>[c.i,c.g]);case 12:return b.map(c=>wa(c));case 11:case 10:return b.map(c=>c.l());default:return b}};function w(a){return new Ga(new Uint8Array([]),new Ba(a))}function x(a,b){var c=bkGetIdx(1,a);b=new Ba(b);for(var d=0;d<c.fields.length;){var e=c.fields[d++],g=e>>>3;e&=7;var l=c.fields[d++];b.set(g,{ha:e,M:[l]})}for(d=0;d<c.repeated.length;){e=c.repeated[d++];g=e>>>3;e&=7;l=c.repeated[d++];const m=[];for(let p=0;p<l;p++)m.push(c.repeated[d++]);b.set(g,{ha:e,M:m})}return new Ga(a,b)}function y(a,b){return void 0!==a.fields.get(b)}function z(a,b,c,d){a.fields.set(b,{ha:ja(d),B:c,type:d})}
function A(a,b,c,d){b=a.fields.get(b);if(void 0===b)return c;if(void 0!==b.B)return b.B;a=bkGet(1,a.buffer,b.M[b.M.length-1],d);b.B=a;b.type=d;return a}function B(a,b,c){var d=za;b=a.fields.get(b);if(void 0===b)return d;if(void 0!==b.B)return b.B;a=bkGet(1,a.buffer,b.M[b.M.length-1],c);const [e,g]=a;a=new ya(e,g);b.B=a;b.type=c;return a}function Ha(a,b,c){c=bkGet(1,a.buffer,b,c);const d=c&15;return a.buffer.subarray(b+d,b+d+(c>>4))}
function D(a,b,c=xa){b=a.fields.get(b);if(void 0===b)return c;if(void 0!==b.B)return b.B;a=Ha(a,b.M[b.M.length-1],12);a=new va(a);b.B=a;b.type=12;return a}function E(a,b,c,d){var e=a.fields.get(b);void 0===e?(c=c(w(d)),z(a,b,c,11),a=c):void 0!==e.B?a=e.B:(e=Ha(a,e.M[e.M.length-1],11),c=c(x(e,d)),z(a,b,c,11),a=c);return a}
function Ia(a,b){b=a.fields.get(b);if(void 0===b)return ia;if(void 0!==b.B)return b.B;const c=[];if(ka(14,b.ha))for(var d of b.M){var e=bkGetPacked(1,a.buffer,d,14);c.push(...e)}else for(e of b.M)d=bkGet(1,a.buffer,e,14),c.push(d);a=new ea(c);b.B=a;b.type=14;return a}function F(a,b,c,d){b=a.fields.get(b);if(void 0===b)a=ia;else if(void 0!==b.B)a=b.B;else{var e=[];for(const l of b.M){var g=Ha(a,l,11);g=c(x(g,d));e.push(g)}a=new ea(e);b.B=a;b.type=11}return a}
var Ga=class{constructor(a,b){this.buffer=a;this.fields=b;Ca||(Ca=bkGetVersion())}clone(){return new Ga(this.buffer,this.fields.clone())}l(){const a=Da(this.fields);return bkSerialize(1,this.buffer,a)}};var G=class{constructor(a){this.h=a}l(){return this.h.l()}clone(){return this.create(this.h.clone())}};function Ja(a){a&&"function"==typeof a.X&&a.X()};function H(){this.F=this.F;this.j=this.j}H.prototype.F=!1;H.prototype.X=function(){if(!this.F&&(this.F=!0,this.j))for(;this.j.length;)this.j.shift()()};function I(a,b){a.F?b():(a.j||(a.j=[]),a.j.push(b))};var Ka=class extends G{create(a){return new Ka(a)}get g(){return B(this.h,28,3)}set g(a){z(this.h,28,a,3)}get i(){return A(this.h,40,0,5)}set i(a){z(this.h,40,a,5)}get jb(){return B(this.h,41,3)}set jb(a){z(this.h,41,a,3)}get ib(){return B(this.h,42,3)}set ib(a){z(this.h,42,a,3)}};function La(a){return new J(x(a,3))}var J=class extends G{create(a){return new J(a)}get v(){return A(this.h,1,0,5)}set v(a){z(this.h,1,a,5)}get J(){return B(this.h,2,4)}set J(a){z(this.h,2,a,4)}get D(){return A(this.h,3,"",9)}set D(a){z(this.h,3,a,9)}};var Ma=class extends G{create(a){return new Ma(a)}get o(){return E(this.h,2,a=>new J(a),3)}set o(a){z(this.h,2,a,11)}get g(){return B(this.h,4,3)}set g(a){z(this.h,4,a,3)}get mimeType(){return A(this.h,5,"",9)}set mimeType(a){z(this.h,5,a,9)}};var Na=class extends G{create(a){return new Na(a)}get g(){return A(this.h,1,0,13)}set g(a){z(this.h,1,a,13)}get v(){return A(this.h,3,0,5)}set v(a){z(this.h,3,a,5)}get J(){return B(this.h,4,4)}set J(a){z(this.h,4,a,4)}get D(){return A(this.h,5,"",9)}set D(a){z(this.h,5,a,9)}get A(){return B(this.h,6,3)}set A(a){z(this.h,6,a,3)}get i(){return A(this.h,8,!1,8)}set i(a){z(this.h,8,a,8)}get m(){return B(this.h,9,3)}set m(a){z(this.h,9,a,3)}get j(){return B(this.h,11,3)}set j(a){z(this.h,11,a,3)}get s(){return B(this.h,
12,3)}set s(a){z(this.h,12,a,3)}get o(){return E(this.h,13,a=>new J(a),3)}set o(a){z(this.h,13,a,11)}};var Oa=class extends G{create(a){return new Oa(a)}get g(){return A(this.h,1,"",9)}set g(a){z(this.h,1,a,9)}};var Pa=class extends G{create(a){return new Pa(a)}get g(){return A(this.h,1,"",9)}set g(a){z(this.h,1,a,9)}};var Qa=class extends G{create(a){return new Qa(a)}get o(){return E(this.h,1,a=>new J(a),3)}set o(a){z(this.h,1,a,11)}get i(){return B(this.h,2,3)}set i(a){z(this.h,2,a,3)}get g(){return B(this.h,3,3)}set g(a){z(this.h,3,a,3)}get da(){return B(this.h,4,3)}set da(a){z(this.h,4,a,3)}get V(){return B(this.h,5,3)}set V(a){z(this.h,5,a,3)}},Ra=class extends G{create(a){return new Ra(a)}get g(){return E(this.h,1,a=>new Ka(a),12)}set g(a){z(this.h,1,a,11)}get i(){return F(this.h,2,a=>new J(a),3)}set i(a){z(this.h,
2,a,11)}get Ca(){return F(this.h,3,a=>new Qa(a),6)}set Ca(a){z(this.h,3,a,11)}get wa(){return D(this.h,5,void 0)}set wa(a){z(this.h,5,a,12)}get j(){return F(this.h,16,a=>new J(a),3)}set j(a){z(this.h,16,a,11)}get s(){return F(this.h,17,a=>new J(a),3)}set s(a){z(this.h,17,a,11)}get m(){return F(this.h,18,a=>new J(a),3)}set m(a){z(this.h,18,a,11)}};var Sa=class extends G{create(a){return new Sa(a)}get g(){return A(this.h,1,0,5)}set g(a){z(this.h,1,a,5)}get i(){return A(this.h,2,0,5)}set i(a){z(this.h,2,a,5)}get m(){return A(this.h,3,0,5)}set m(a){z(this.h,3,a,5)}get j(){return A(this.h,4,0,5)}set j(a){z(this.h,4,a,5)}};var Ta=class extends G{create(a){return new Ta(a)}get wa(){return D(this.h,4,void 0)}set wa(a){z(this.h,4,a,12)}},Ua=class extends G{create(a){return new Ua(a)}get g(){return A(this.h,1,!1,8)}set g(a){z(this.h,1,a,8)}get i(){return E(this.h,2,a=>new Sa(a),8)}set i(a){z(this.h,2,a,11)}},Va=class extends G{create(a){return new Va(a)}get i(){return E(this.h,2,a=>new Ta(a),5)}set i(a){z(this.h,2,a,11)}get g(){return E(this.h,10,a=>new Ua(a),3)}set g(a){z(this.h,10,a,11)}};var Wa=class extends G{create(a){return new Wa(a)}get v(){return A(this.h,1,0,5)}set v(a){z(this.h,1,a,5)}get url(){return A(this.h,2,"",9)}set url(a){z(this.h,2,a,9)}get mimeType(){return A(this.h,5,"",9)}set mimeType(a){z(this.h,5,a,9)}get bitrate(){return A(this.h,6,0,5)}set bitrate(a){z(this.h,6,a,5)}get width(){return A(this.h,7,0,5)}set width(a){z(this.h,7,a,5)}get height(){return A(this.h,8,0,5)}set height(a){z(this.h,8,a,5)}get g(){return E(this.h,9,a=>new Xa(a),4)}set g(a){z(this.h,9,a,11)}get lastModified(){return B(this.h,
11,3)}set lastModified(a){z(this.h,11,a,3)}get quality(){return A(this.h,16,"",9)}set quality(a){z(this.h,16,a,9)}get D(){return A(this.h,23,"",9)}set D(a){z(this.h,23,a,9)}get type(){return A(this.h,41,0,14)}set type(a){z(this.h,41,a,14)}get ab(){return B(this.h,44,4)}set ab(a){z(this.h,44,a,4)}},Xa=class extends G{create(a){return new Xa(a)}get start(){return B(this.h,3,3)}set start(a){z(this.h,3,a,3)}get end(){return B(this.h,4,3)}set end(a){z(this.h,4,a,3)}};var Ya=class extends G{create(a){return new Ya(a)}};var Za=class extends G{create(a){return new Za(a)}};var $a=class extends G{create(a){return new $a(a)}get g(){return E(this.h,215771584,a=>new Va(a),12)}set g(a){z(this.h,215771584,a,11)}};var ab=class extends G{create(a){return new ab(a)}get g(){return F(this.h,3,a=>new Wa(a),12)}set g(a){z(this.h,3,a,11)}get aspectRatio(){return A(this.h,13,0,2)}set aspectRatio(a){z(this.h,13,a,2)}get i(){return A(this.h,15,"",9)}set i(a){z(this.h,15,a,9)}},bb=class extends G{create(a){return new bb(a)}get i(){return A(this.h,1,"",9)}set i(a){z(this.h,1,a,9)}get title(){return A(this.h,15,"",9)}set title(a){z(this.h,15,a,9)}get g(){return B(this.h,16,4)}set g(a){z(this.h,16,a,4)}};var K=class extends G{create(a){return new K(a)}get code(){return A(this.h,1,"",9)}set code(a){z(this.h,1,a,9)}get i(){return A(this.h,2,!1,8)}set i(a){z(this.h,2,a,8)}get g(){return F(this.h,3,a=>new cb(a),2)}set g(a){z(this.h,3,a,11)}},cb=class extends G{create(a){return new cb(a)}get key(){return A(this.h,1,"",9)}set key(a){z(this.h,1,a,9)}get value(){return A(this.h,2,"",9)}set value(a){z(this.h,2,a,9)}};var db=class extends G{create(a){return new db(a)}get key(){return A(this.h,1,"",9)}set key(a){z(this.h,1,a,9)}get value(){return A(this.h,2,"",9)}set value(a){z(this.h,2,a,9)}},eb=class extends G{create(a){return new eb(a)}},fb=class extends G{create(a){return new fb(a)}get error(){return E(this.h,1,a=>new K(a),3)}set error(a){z(this.h,1,a,11)}},gb=class extends G{create(a){return new gb(a)}},hb=class extends G{create(a){return new hb(a)}get g(){return A(this.h,1,"",9)}set g(a){z(this.h,1,a,9)}},
ib=class extends G{create(a){return new ib(a)}};var jb=class extends G{create(a){return new jb(a)}get g(){return A(this.h,1,0,14)}set g(a){z(this.h,1,a,14)}get message(){return A(this.h,2,"",9)}set message(a){z(this.h,2,a,9)}},kb=class extends G{create(a){return new kb(a)}};var lb=class extends G{create(a){return new lb(a)}},mb=class extends G{create(a){return new mb(a)}get g(){return A(this.h,1,0,1)}set g(a){z(this.h,1,a,1)}},nb=class extends G{create(a){return new nb(a)}get error(){return E(this.h,1,a=>new K(a),3)}set error(a){z(this.h,1,a,11)}},ob=class extends G{create(a){return new ob(a)}};var pb=class extends G{create(a){return new pb(a)}},qb=class extends G{create(a){return new qb(a)}get g(){return E(this.h,1,a=>new Ka(a),12)}set g(a){z(this.h,1,a,11)}},rb=class extends G{create(a){return new rb(a)}get S(){return A(this.h,1,1,14)}set S(a){z(this.h,1,a,14)}},sb=class extends G{create(a){return new sb(a)}},tb=class extends G{create(a){return new tb(a)}get error(){return E(this.h,1,a=>new K(a),3)}set error(a){z(this.h,1,a,11)}},ub=class extends G{create(a){return new ub(a)}};var vb=class extends G{create(a){return new vb(a)}get g(){return A(this.h,1,"",9)}set g(a){z(this.h,1,a,9)}get Za(){return A(this.h,2,0,1)}set Za(a){z(this.h,2,a,1)}get Na(){return A(this.h,3,0,1)}set Na(a){z(this.h,3,a,1)}get u(){return A(this.h,4,"",9)}set u(a){z(this.h,4,a,9)}get i(){return E(this.h,17,a=>new Za(a),0)}set i(a){z(this.h,17,a,11)}get T(){return E(this.h,5,a=>new $a(a),12)}set T(a){z(this.h,5,a,11)}get j(){return E(this.h,6,a=>new ab(a),12)}set j(a){z(this.h,6,a,11)}get m(){return E(this.h,
21,a=>new bb(a),12)}set m(a){z(this.h,21,a,11)}get $a(){return A(this.h,7,!1,8)}set $a(a){z(this.h,7,a,8)}get P(){return A(this.h,8,"",9)}set P(a){z(this.h,8,a,9)}get xa(){return D(this.h,10,void 0)}set xa(a){z(this.h,10,a,12)}get ya(){return D(this.h,11,void 0)}set ya(a){z(this.h,11,a,12)}get za(){return D(this.h,18,void 0)}set za(a){z(this.h,18,a,12)}get ea(){return D(this.h,20,void 0)}set ea(a){z(this.h,20,a,12)}get Aa(){return A(this.h,12,!1,8)}set Aa(a){z(this.h,12,a,8)}get I(){return F(this.h,
13,a=>new J(a),3)}set I(a){z(this.h,13,a,11)}get s(){return F(this.h,14,a=>new J(a),3)}set s(a){z(this.h,14,a,11)}get A(){return F(this.h,15,a=>new J(a),3)}set A(a){z(this.h,15,a,11)}},wb=class extends G{create(a){return new wb(a)}},xb=class extends G{create(a){return new xb(a)}get j(){return D(this.h,1,void 0)}set j(a){z(this.h,1,a,12)}get g(){return E(this.h,2,a=>new Ya(a),1)}set g(a){z(this.h,2,a,11)}get m(){return D(this.h,3,void 0)}set m(a){z(this.h,3,a,12)}get i(){return D(this.h,4,void 0)}set i(a){z(this.h,
4,a,12)}},yb=class extends G{create(a){return new yb(a)}},zb=class extends G{create(a){return new zb(a)}},Ab=class extends G{create(a){return new Ab(a)}},Bb=class extends G{create(a){return new Bb(a)}get g(){return A(this.h,1,"",9)}set g(a){z(this.h,1,a,9)}},Cb=class extends G{create(a){return new Cb(a)}},Db=class extends G{create(a){return new Db(a)}},Eb=class extends G{create(a){return new Eb(a)}},Fb=class extends G{create(a){return new Fb(a)}get g(){return A(this.h,1,0,1)}set g(a){z(this.h,1,a,
1)}},Gb=class extends G{create(a){return new Gb(a)}},Hb=class extends G{create(a){return new Hb(a)}get u(){return A(this.h,1,"",9)}set u(a){z(this.h,1,a,9)}get g(){return F(this.h,2,a=>new J(a),3)}set g(a){z(this.h,2,a,11)}get i(){return A(this.h,3,0,14)}set i(a){z(this.h,3,a,14)}},Ib=class extends G{create(a){return new Ib(a)}},Jb=class extends G{create(a){return new Jb(a)}get u(){return A(this.h,1,"",9)}set u(a){z(this.h,1,a,9)}get g(){return F(this.h,2,a=>new J(a),3)}set g(a){z(this.h,2,a,11)}get i(){return A(this.h,
3,0,14)}set i(a){z(this.h,3,a,14)}},Kb=class extends G{create(a){return new Kb(a)}},Lb=class extends G{create(a){return new Lb(a)}get i(){return A(this.h,1,"",9)}set i(a){z(this.h,1,a,9)}get g(){return A(this.h,2,0,1)}set g(a){z(this.h,2,a,1)}},Mb=class extends G{create(a){return new Mb(a)}},Nb=class extends G{create(a){return new Nb(a)}get g(){return F(this.h,1,a=>new Ob(a),2)}set g(a){z(this.h,1,a,11)}},Ob=class extends G{create(a){return new Ob(a)}get u(){return A(this.h,1,"",9)}set u(a){z(this.h,
1,a,9)}get pb(){return Ia(this.h,2)}set pb(a){z(this.h,2,a,14)}},Pb=class extends G{create(a){return new Pb(a)}};var Qb=class extends G{create(a){return new Qb(a)}get g(){return A(this.h,1,"",9)}set g(a){z(this.h,1,a,9)}},Rb=class extends G{create(a){return new Rb(a)}},Sb=class extends G{create(a){return new Sb(a)}get o(){return E(this.h,1,a=>new J(a),3)}set o(a){z(this.h,1,a,11)}get mimeType(){return A(this.h,2,"",9)}set mimeType(a){z(this.h,2,a,9)}get data(){return D(this.h,3,void 0)}set data(a){z(this.h,3,a,12)}get byteOffset(){return A(this.h,4,0,15)}set byteOffset(a){z(this.h,4,a,15)}get g(){return A(this.h,
5,0,15)}set g(a){z(this.h,5,a,15)}},Tb=class extends G{create(a){return new Tb(a)}},Ub=class extends G{create(a){return new Ub(a)}};var Vb=class extends G{create(a){return new Vb(a)}get o(){return E(this.h,1,a=>new J(a),3)}set o(a){z(this.h,1,a,11)}get i(){return A(this.h,2,0,1)}set i(a){z(this.h,2,a,1)}get g(){return A(this.h,4,0,1)}set g(a){z(this.h,4,a,1)}get j(){return A(this.h,3,0,1)}set j(a){z(this.h,3,a,1)}},Wb=class extends G{create(a){return new Wb(a)}},Xb=class extends G{create(a){return new Xb(a)}},Yb=class extends G{create(a){return new Yb(a)}};var Zb=class extends G{create(a){return new Zb(a)}get g(){return A(this.h,1,0,1)}set g(a){z(this.h,1,a,1)}},$b=class extends G{create(a){return new $b(a)}get g(){return Ia(this.h,1)}set g(a){z(this.h,1,a,14)}},ac=class extends G{create(a){return new ac(a)}get S(){return A(this.h,1,1,14)}set S(a){z(this.h,1,a,14)}},bc=class extends G{create(a){return new bc(a)}get g(){return A(this.h,1,!1,8)}set g(a){z(this.h,1,a,8)}},cc=class extends G{create(a){return new cc(a)}get S(){return A(this.h,1,1,14)}set S(a){z(this.h,
1,a,14)}get i(){return E(this.h,2,a=>new dc(a),3)}set i(a){z(this.h,2,a,11)}get g(){return A(this.h,3,!1,8)}set g(a){z(this.h,3,a,8)}},ec=class extends G{create(a){return new ec(a)}get g(){return F(this.h,1,a=>new dc(a),3)}set g(a){z(this.h,1,a,11)}},dc=class extends G{create(a){return new dc(a)}get o(){return E(this.h,1,a=>new J(a),3)}set o(a){z(this.h,1,a,11)}get da(){return A(this.h,2,0,15)}set da(a){z(this.h,2,a,15)}get V(){return A(this.h,3,0,15)}set V(a){z(this.h,3,a,15)}};var fc=class extends G{create(a){return new fc(a)}get name(){return A(this.h,1,"",9)}set name(a){z(this.h,1,a,9)}get value(){return A(this.h,2,"",9)}set value(a){z(this.h,2,a,9)}};var gc=class extends G{create(a){return new gc(a)}get u(){return A(this.h,1,"",9)}set u(a){z(this.h,1,a,9)}get g(){return A(this.h,2,0,15)}set g(a){z(this.h,2,a,15)}get url(){return A(this.h,3,"",9)}set url(a){z(this.h,3,a,9)}get j(){return F(this.h,4,a=>new fc(a),2)}set j(a){z(this.h,4,a,11)}get s(){return D(this.h,5,void 0)}set s(a){z(this.h,5,a,12)}get m(){return A(this.h,6,0,15)}set m(a){z(this.h,6,a,15)}get i(){return A(this.h,7,"",9)}set i(a){z(this.h,7,a,9)}},hc=class extends G{create(a){return new hc(a)}},
ic=class extends G{create(a){return new ic(a)}get g(){return A(this.h,1,0,15)}set g(a){z(this.h,1,a,15)}},jc=class extends G{create(a){return new jc(a)}};var kc=class extends G{create(a){return new kc(a)}get data(){return D(this.h,2,void 0)}set data(a){z(this.h,2,a,12)}get offset(){return A(this.h,3,0,15)}set offset(a){z(this.h,3,a,15)}get length(){return A(this.h,4,0,15)}set length(a){z(this.h,4,a,15)}},lc=class extends G{create(a){return new lc(a)}},mc=class extends G{create(a){return new mc(a)}},nc=class extends G{create(a){return new nc(a)}},oc=class extends G{create(a){return new oc(a)}},pc=class extends G{create(a){return new pc(a)}},qc=class extends G{create(a){return new qc(a)}get g(){return E(this.h,
2,a=>new K(a),3)}set g(a){z(this.h,2,a,11)}},rc=class extends G{create(a){return new rc(a)}};var sc=class extends G{create(a){return new sc(a)}get u(){return A(this.h,1,"",9)}set u(a){z(this.h,1,a,9)}get g(){return A(this.h,2,"",9)}set g(a){z(this.h,2,a,9)}},tc=class extends G{create(a){return new tc(a)}get g(){return D(this.h,1,void 0)}set g(a){z(this.h,1,a,12)}},uc=class extends G{create(a){return new uc(a)}get g(){return D(this.h,1,void 0)}set g(a){z(this.h,1,a,12)}},vc=class extends G{create(a){return new vc(a)}};var L=class{constructor(...a){1===a.length?(a=a[0],this.v=a.v,this.D=a.D,this.J=v(a.J),this.i=a):(this.v=a[0],this.D=a[1],this.J=a[2])}get g(){null==this.i&&(this.i=new J(w(3)),this.i.v=this.v,this.i.D=this.D,this.i.J=q(this.J));return this.i}R(a){return a instanceof J?this.v===a.v&&this.D===a.D&&this.J===v(a.J):this.v===a.v&&this.D===a.D&&this.J===a.J}};var wc=class{constructor(a){this.g=a;this.o=new L(a.v,a.D,v(a.lastModified))}get i(){return y(this.g.h,9)?{first:v(this.g.g.start),rb:v(this.g.g.end)}:void 0}get mimeType(){return this.g.mimeType}R(a){return a instanceof wc?this.o.R(a.o):a instanceof L?this.o.R(a):this.o.R(a)}};var xc=class{constructor(a){this.m=a}get i(){return this.m.g}get j(){return this.i.g}get g(){return this.j.i}get s(){return this.j.g}};function yc(a){a.g={};for(const b of a.i.g){const c=v(b.lastModified);null==a.g[c]&&(a.g[c]=[]);a.g[c].push(b)}}function zc(a,b,c,d){var e;null==a.g&&yc(a);return null===(e=a.g[d])||void 0===e?void 0:e.find(g=>g.v===b&&g.D===c)}var Ac=class{constructor(a){this.i=a}};var Bc=class{constructor(a){this.g=a}get duration(){return v(this.g.g)}};function Cc(a){return 128>a?1:192>a?2:224>a?3:240>a?4:5}function Dc(a){var b=0;if(0>=a.length-b)return[void 0,b];var c=a[b],d=Cc(c);if(a.length-b<d)return[void 0,b];++b;if(1===d)a=c;else if(2===d)a=a[b++],a=(c&63)+64*a;else if(3===d)d=a[b++],a=a[b++],a=(c&31)+32*(d+256*a);else if(4===d){d=a[b++];var e=a[b++];a=a[b++];a=(c&15)+16*(d+256*(e+256*a))}else c=a[b++],d=a[b++],e=a[b++],a=a[b++],a=c+256*(d+256*(e+256*a));return[a,b]}
function Ec(a,b,c){if(0===a.g&&0===b.length-c)return[void 0,c];var d=0===a.g?Cc(b[c]):Cc(a.i[0])-a.g;if(0>=d)throw Error("Data present but parser claims unnecessary");if(b.length-c>=d)return a.i.set(b.subarray(c,c+d),a.g),a.g=0,[a]=Dc(a.i),[a,c+d];d=b.length-c;a.i.set(b.subarray(c),a.g);a.g+=d;return[void 0,c+d]}var Fc=class{constructor(){this.i=new Uint8Array(5);this.g=0}};function Gc(a){return a.buffer.subarray(a.offset,a.offset+a.length)}function Hc(a,b=0,c=a.length){return new Ic(a.buffer,a.offset+b,c-b)}var Ic=class{constructor(a,b,c){this.buffer=a;this.offset=b;this.length=c}};var Jc=class{constructor(a){this.m=a;this.g=this.s=this.j=0;this.A=new Fc;this.i=0}};class Kc{constructor(a,b){this.K=a;this.m=b;this.j=0}}var Lc=class extends Kc{},Mc=class{constructor(a,b,c){this.g=a;this.j=b;this.i=c}},Nc=class extends Kc{constructor(a,b,c){super(a,b);this.g=c;this.s=!1;this.A=0}get P(){return 0===this.A&&null!=this.i&&null!=this.I?this.I-this.i:this.A}};var M=class{constructor(a){this.j=a;this.g=Oc[this.j];this.g||(this.g=native_getMethodIDs(this.j,["d","w","e"]),Oc[this.j]=this.g)}C(a){this.i=native_instantiateHandler(this.j,a);return a}N(){native_terminateHandler(this.i);this.i=void 0}d(a){return new kb(x(native_callMethod(this.g.d,this.i,a.l()),0))}w(a){return new kb(x(native_callMethod(this.g.w,this.i,a.l()),0))}e(a){return new kb(x(native_callMethod(this.g.e,this.i,a.l()),0))}};M.prototype.e=M.prototype.e;M.prototype.w=M.prototype.w;
M.prototype.d=M.prototype.d;M.prototype.terminateWrapper=M.prototype.N;M.prototype.setInstance=M.prototype.C;var Oc={};f("ScriptedConsoleLoggerNativeWrapper",M);function Pc(a=0,b){const c=new jb(w(2));c.g=a;c.message=b;return c}class Qc{log(){}d(){}w(){}e(a,b=0){null!=this.g&&("function"===typeof a&&(a=a()),this.g.e(Pc(b,a)))}}var N=new Qc;function Rc(){return new Sc("js.exception")}function Tc(a){const b=new K(w(3));b.code=a.j;b.i=a.i;const c=[];for(const [d,e]of a.g.entries()){a=d;const g=e,l=new cb(w(2));l.key=a;l.value=g;c.push(l)}b.g=h(c);return b}var Sc=class extends Error{constructor(a){super(a);this.j=a;this.g=new Map;this.i=!0;this.name="ScriptedError";Object.setPrototypeOf(this,Sc.prototype)}};function Uc(){const a=Rc();a.g.set("mismatch","byteposition");return a}function Vc(){const a=Rc();a.g.set("mismatch","seqnum");return a}function Wc(a,b){return!0===((null===a||void 0===a?void 0:a.s)&&null!=(null===b||void 0===b?void 0:b.i))&&a.g.g+1===b.g.g}function Xc(a){return{S:a.S,ka:a.ka,G:a.G}}function Yc(a,b){return a.G.findIndex(c=>null!=c.i&&c.i<=b&&b<c.i+c.P)}
function bd(a,b){var c=Yc(a,b);if(0>c)return{duration:0,ob:!1};for(;Wc(a.G[c],a.G[c+1]);)c++;const d=a.G[c];return{duration:d.i+d.P-b,ob:a.g&&c===a.G.length-1,V:d.g.g}}function cd(a,b){return a.G.find(c=>c.g.g===b)}function dd(a){N.d(`BufferStateTracker for ${a.S} cleared.`);a.G.length=0;a.g=!1}function ed(a,b){0>b||b>=a.G.length||(a.G.splice(b),a.g=!1)}function fd(a,b){ed(a,a.G.findIndex(c=>c.g.g>=b))}
function gd(a,b,c,d){let e=a.ka.find(g=>g.K.R(b));if(void 0!==e){if(e.m+e.j!==c)return Uc()}else e=new Lc(b,c),a.ka.push(e);e.j+=d}var hd=class{constructor(a){this.S=a;this.ka=[];this.G=[];this.g=!1}};var id=class{},jd=class extends id{constructor(a,b,c,d,e){super();this.u=a;this.T=b;this.g=c;this.i=e;a=void 0;for(const g of c.i.g)if(y(g.h,44)){a=v(g.ab)/1E3;break}this.duration=null!==a&&void 0!==a?a:d.duration}};function kd(a){return y(a.g.h,42)?4:y(a.g.h,28)||a.mimeType.toLowerCase().includes("audio")?1:2};const ld={};let md=0;function nd(a){const b=(++md).toString(32);ld[b]=a;return`${"mfcReferences"}['${b}']`}f("mfcReferences",ld);function od(a){return null!=a&&0<=a?a:void 0};var O=class{constructor(a){this.j=a;this.g=pd[this.j];this.g||(this.g=native_getMethodIDs(this.j,["logKeyValue","logError","logLatencyTick"]),pd[this.j]=this.g)}C(a){this.i=native_instantiateHandler(this.j,a);return a}N(){native_terminateHandler(this.i);this.i=void 0}Sa(a){return new eb(x(native_callMethod(this.g.logKeyValue,this.i,a.l()),0))}Ga(a){return new gb(x(native_callMethod(this.g.logError,this.i,a.l()),0))}Ta(a){return new ib(x(native_callMethod(this.g.logLatencyTick,this.i,a.l()),0))}};
O.prototype.logLatencyTick=O.prototype.Ta;O.prototype.logError=O.prototype.Ga;O.prototype.logKeyValue=O.prototype.Sa;O.prototype.terminateWrapper=O.prototype.N;O.prototype.setInstance=O.prototype.C;var pd={};f("ScriptedClientLoggerNativeWrapper",O);var qd=class{constructor(a){this.g=new O("com/google/android/libraries/youtube/media/player/scripted/fetch/generated/ScriptedClientLoggerScriptedHandler");this.g.C(a)}Sa(a,b){const c=new db(w(2));c.key=a;c.value=b;this.g.Sa(c)}Ga(a,b,c){const d=new K(w(3));d.code=a;d.i=b;if(void 0!==c&&0<c.size){a=[];for(var e of c.entries())c=new cb(w(2)),c.key=e[0],c.value=e[1],a.push(c);d.g=h(a)}e=new fb(w(1));e.error=d;this.g.Ga(e)}Ta(a){const b=new hb(w(1));b.g=a;this.g.Ta(b)}};var P=class{constructor(a){this.j=a;this.g=rd[this.j];this.g||(this.g=native_getMethodIDs(this.j,["initialize","pushMedia","onPushComplete"]),rd[this.j]=this.g)}C(a){this.i=native_instantiateHandler(this.j,a);return a}N(){native_terminateHandler(this.i);this.i=void 0}W(a){return new Rb(x(native_callMethod(this.g.initialize,this.i,a.l()),0))}oa(a){return new Tb(x(native_callMethod(this.g.pushMedia,this.i,a.l()),0))}Ja(a){return new Ub(x(native_callMethod(this.g.onPushComplete,this.i,a.l()),0))}};
P.prototype.onPushComplete=P.prototype.Ja;P.prototype.pushMedia=P.prototype.oa;P.prototype.initialize=P.prototype.W;P.prototype.terminateWrapper=P.prototype.N;P.prototype.setInstance=P.prototype.C;var rd={};f("MediaParsersNativeWrapper",P);var td=class{constructor(a){this.g=new P("com/google/android/libraries/youtube/media/player/scripted/fetch/generated/MediaParsersScriptedHandler");this.g.C(a)}W(a){const b=new Qb(w(1));b.g=nd(new sd(a));this.g.W(b)}oa(a,b,c,d,e){const g=new Sb(w(5));g.o=a.g;g.mimeType=b;g.data=ua(Gc(c));g.byteOffset=d;g.g=e;this.g.oa(g)}Ja(){}};class sd{constructor(a){this.g=a}na(a){this.g.na(new L(a.o),od(a.i),od(a.g),a.j);return new Wb(w(0))}L(){return new Yb(w(0))}};var R=class{constructor(a){this.j=a;this.g=ud[this.j];this.g||(this.g=native_getMethodIDs(this.j,["seek","discardBuffer","discardRange"]),ud[this.j]=this.g)}C(a){this.i=native_instantiateHandler(this.j,a);return a}N(){native_terminateHandler(this.i);this.i=void 0}seek(a){return new $b(x(native_callMethod(this.g.seek,this.i,a.l()),1))}ia(a){return new bc(x(native_callMethod(this.g.discardBuffer,this.i,a.l()),1))}Ea(a){return new ec(x(native_callMethod(this.g.discardRange,this.i,a.l()),1))}};
R.prototype.discardRange=R.prototype.Ea;R.prototype.discardBuffer=R.prototype.ia;R.prototype.seek=R.prototype.seek;R.prototype.terminateWrapper=R.prototype.N;R.prototype.setInstance=R.prototype.C;var ud={};f("MediaSinkNativeWrapper",R);var vd=class{constructor(a){this.g=new R("com/google/android/libraries/youtube/media/player/scripted/fetch/generated/MediaSinkScriptedHandler");this.g.C(a)}seek(a){const b=new Zb(w(1));b.g=a;return k(this.g.seek(b).g)}ia(a){const b=new ac(w(1));b.S=a;return this.g.ia(b).g}Ea(a,b,c,d,e){const g=new cc(w(3));g.S=a;a=new dc(w(3));a.o=b.g;a.da=c;a.V=d;g.i=a;e&&(g.g=!0);b=this.g.Ea(g);c=[];for(const l of b.g)c.push({o:new L(l.o),da:l.da,V:l.V});return c}};var S=class{constructor(a){this.i=a;this.g=wd[this.i];this.g||(this.g=native_getMethodIDs(this.i,["getCurrentPlaybackPositionSeconds","onError"]),wd[this.i]=this.g)}C(a){this.j=native_instantiateHandler(this.i,a);return a}N(){native_terminateHandler(this.j);this.j=void 0}ja(a){return new mb(x(native_callMethod(this.g.getCurrentPlaybackPositionSeconds,this.j,a.l()),1))}L(a){return new ob(x(native_callMethod(this.g.onError,this.j,a.l()),0))}};S.prototype.onError=S.prototype.L;
S.prototype.getCurrentPlaybackPositionSeconds=S.prototype.ja;S.prototype.terminateWrapper=S.prototype.N;S.prototype.setInstance=S.prototype.C;var wd={};f("MediaFetchCallbacksNativeWrapper",S);var T=class{constructor(a){this.j=a;this.g=xd[this.j];this.g||(this.g=native_getMethodIDs(this.j,["getAbrState","onBufferedToEof","onError"]),xd[this.j]=this.g)}C(a){this.i=native_instantiateHandler(this.j,a);return a}N(){native_terminateHandler(this.i);this.i=void 0}Fa(a){return new qb(x(native_callMethod(this.g.getAbrState,this.i,a.l()),1))}ga(a){return new sb(x(native_callMethod(this.g.onBufferedToEof,this.i,a.l()),0))}L(a){return new ub(x(native_callMethod(this.g.onError,this.i,a.l()),0))}};
T.prototype.onError=T.prototype.L;T.prototype.onBufferedToEof=T.prototype.ga;T.prototype.getAbrState=T.prototype.Fa;T.prototype.terminateWrapper=T.prototype.N;T.prototype.setInstance=T.prototype.C;var xd={};f("MediaFetchClipCallbacksNativeWrapper",T);var yd=class{constructor(a){this.g=new S("com/google/android/libraries/youtube/media/player/scripted/fetch/generated/MediaFetchCallbacksScriptedHandler");this.g.C(a)}ja(){const a=this.g.ja(new lb(w(0)));if(y(a.h,1))return a.g}L(a){const b=new nb(w(1));b.error=Tc(a);this.g.L(b)}},zd=class{constructor(a){this.g=new T("com/google/android/libraries/youtube/media/player/scripted/fetch/generated/MediaFetchClipCallbacksScriptedHandler");this.g.C(a)}Fa(){return this.g.Fa(new pb(w(0))).g}ga(a){const b=new rb(w(1));
b.S=a;this.g.ga(b)}L(a){const b=new tb(w(1));b.error=Tc(a);this.g.L(b)}};var U=class{constructor(a){this.i=a;this.g=Ad[this.i];this.g||(this.g=native_getMethodIDs(this.i,["startFetch","cancelFetch"]),Ad[this.i]=this.g)}C(a){this.j=native_instantiateHandler(this.i,a);return a}N(){native_terminateHandler(this.j);this.j=void 0}mb(a){return new hc(x(native_callMethod(this.g.startFetch,this.j,a.l()),0))}bb(a){return new jc(x(native_callMethod(this.g.cancelFetch,this.j,a.l()),0))}};U.prototype.cancelFetch=U.prototype.bb;U.prototype.startFetch=U.prototype.mb;
U.prototype.terminateWrapper=U.prototype.N;U.prototype.setInstance=U.prototype.C;var Ad={};f("NetworkClientNativeWrapper",U);var V=class{constructor(a){this.i=a;this.g=Bd[this.i];this.g||(this.g=native_getMethodIDs(this.i,["createNetworkClient","releaseNetworkClient"]),Bd[this.i]=this.g)}C(a){this.j=native_instantiateHandler(this.i,a);return a}N(){native_terminateHandler(this.j);this.j=void 0}Da(a){return new tc(x(native_callMethod(this.g.createNetworkClient,this.j,a.l()),1))}La(a){return new vc(x(native_callMethod(this.g.releaseNetworkClient,this.j,a.l()),0))}};V.prototype.releaseNetworkClient=V.prototype.La;
V.prototype.createNetworkClient=V.prototype.Da;V.prototype.terminateWrapper=V.prototype.N;V.prototype.setInstance=V.prototype.C;var Bd={};f("NetworkClientFactoryNativeWrapper",V);function Cd(a){if(a.T.s){var b=Date.now()/1E3,c=b,d;if(null===(d=a.U)||void 0===d||!y(d.h,4)||null==a.ua||null!=a.Ma&&a.Ma>a.ua?0:c<a.ua+a.U.j/1E3)a=[];else{c=b;var e;c=(null===(e=a.U)||void 0===e?0:y(e.h,3))&&void 0!==a.nb?c>a.nb+a.U.m/1E3:!1;e=[];if((d=void 0!==a.Ba)&&!(d=c)){d=a.Ba;var g;b=(null===(g=a.U)||void 0===g?0:y(g.h,1))?a.U.g/1E3:y(a.T.g.h,1)?a.T.g.g/1E3:60;d=d<=b}d&&e.push(1);if((g=void 0!==a.Oa)&&!(g=c)){g=a.Oa;var l;a=(null===(l=a.U)||void 0===l?0:y(l.h,2))?a.U.i/1E3:y(a.T.g.h,2)?a.T.g.i/
1E3:60;g=g<=a}g&&e.push(2);a=e}}else l=[],void 0!==a.Ba&&60>a.Ba&&l.push(1),void 0!==a.Oa&&60>a.Oa&&l.push(2),a=l;return a};class Dd{constructor(a,b){this.i=a;this.j=b;this.g=void 0;this.m=(c,d,e)=>{if(this.j.Ya.includes(c))this.j.Ka(c,d,e);else if(this.i.Ya.includes(c))if(void 0!==this.g){if(this.g.id!==c)throw Error("Unfinished partial part.");this.g.data.set(Gc(d),this.g.position);this.g.position+=d.length;0===e&&(this.i.Ka(c,this.g.data),this.g=void 0)}else 0===e?this.i.Ka(c,d.buffer.slice(d.offset,d.offset+d.length)):(e=new Uint8Array(d.length+e),e.set(Gc(d)),this.g={id:c,data:e,position:d.length})};this.s=new Jc(this.m)}}
function Ed(a,b){if(0<b.length){const c=a.j[a.i];for(const d of a.g)d.Va&&d.Va(c,b)}}
var Fd=class{constructor(a){this.g=a;this.A=new Fc;this.j=[];this.I=(b,c)=>{switch(b){case 20:var d=new Na(x(c,12));this.j[d.g]=d;for(var e of this.g)e.fb&&e.fb(d);break;case 22:[e]=Dc(c);e=this.j[e];for(d of this.g)d.eb&&d.eb(e);break;case 43:d=new Pa(x(c,1));for(const g of this.g)g.hb&&g.hb(d);break;case 44:d=new Oa(x(c,1));for(const g of this.g)g.gb&&g.gb(d);break;case 42:d=new Ma(x(c,5));for(const g of this.g)g.cb&&g.cb(d);break;case 35:d=new Sa(x(c,8));for(const g of this.g)g.Ia&&g.Ia(d)}};this.m=
{Ya:[20,22,35,42,43,44],Ka:this.I};this.P=(b,c,d)=>{if(21===b){if(null!=this.i)Ed(this,c);else{b=void 0;let e=c.offset;[b,e]=Ec(this.A,c.buffer,e);if(void 0===b)return;this.i=b;Ed(this,new Ic(c.buffer,e,c.offset+c.length-e))}0===d&&(this.i=void 0)}};this.s={Ya:[21],Ka:this.P};this.ea=new Dd(this.m,this.s)}};var Gd=class{constructor(a,b,c,d,e,g,l,m,p=new Map){this.s=a;this.g=b;this.u=c;this.url=d;this.kb=e;this.aa=g;this.ba=l;this.headers=p;this.method="POST";this.startTime=-1;this.m=this.j=!1;this.A={Ha:()=>{},la:(r,t,C)=>{a:{var u=this.I.ea.s;r=r.subarray(t,t+C);for(t=0;t<r.length;)switch(u.i){case 0:[C,t]=Ec(u.A,r,t);if(void 0===C)break a;u.j=C;u.i=1;break;case 1:[C,t]=Ec(u.A,r,t);if(void 0===C)break a;u.s=C;u.g=u.s;u.i=2;0===u.g&&(u.m(u.j,new Ic(r,0,0),0),u.i=0);break;case 2:if(u.g>r.length-t){u.g-=
r.length-t;u.m(u.j,new Ic(r,t,r.length-t),u.g);break a}u.m(u.j,new Ic(r,t,u.g),0);t+=u.g;u.g=0;u.i=0;break;default:da(u.i,"partState unknown")}}},Z:()=>{var r;this.aa();for(const t of this.g)null===(r=t.xb)||void 0===r?void 0:r.call(t,this,this.j,this.m)},$:r=>{var t;this.ba(r);for(const C of this.g)null===(t=C.tb)||void 0===t?void 0:t.call(C,this,r)}};p.set("Content-Type",["application/x-protobuf"]);this.body=e.l();m.push({Ia:r=>{var t;this.m=!0;for(const C of this.g)null===(t=C.Ia)||void 0===t?
void 0:t.call(C,this,r)},Va:()=>{this.j=!0}});this.I=new Fd(m);this.i=this.s.Pa(this.u,this.url,this.headers,this.body,32768,this.A)}start(){var a;this.startTime=Date.now()/1E3;this.i.start();for(const b of this.g)null===(a=b.yb)||void 0===a?void 0:a.call(b,this)}cancel(){var a;if(this.i.Ra()){this.i.cancel();for(const b of this.g)null===(a=b.wb)||void 0===a?void 0:a.call(b,this)}}Ra(){return this.i.Ra()}},Hd=class extends H{constructor(a,b){super();this.i=a;this.g=b;I(this,ba(Ja,a))}Pa(a){return new Gd(this.i,
this.g,a.u,a.url,a.kb,a.aa,a.ba,a.ub,a.headers)}};function Id(a){let b=0;for(const c of a)b|=c;return b}function Jd(a){var b;null===(b=a.i)||void 0===b?void 0:b.X();a.i=void 0}function Kd(a,b){a=zc(a.g.g,b.v,b.D,v(b.J));if(null!=a)return new wc(a)}function Ld(a,b){return a.m.find(c=>b.R(c.o))}
var Nd=class extends H{constructor(a,b,c){super();this.g=a;this.A=b;this.H=c;this.m=[];this.s=a.g.i.i;I(this,ba(Ja,b));I(this,()=>{this.cancel()})}fetch(a,b,c,d,e){if(0!==b.length){if(null!=this.i){if(a.every(g=>this.i.Y.includes(g)))return;this.cancel()}this.i=new Md(this,this.H,b,c,d,e);this.i.start()}}cancel(a){if(null!=this.i){var b=!1;if(b=void 0===a?!0:a.some(c=>this.i.Y.includes(c)))N.d(`CPN ${this.g.u}: SABR fetch cancelled.`),Jd(this)}}aa(){Jd(this);this.H.Ua()}ba(a){Jd(this);this.H.ma(a)}};
function Od(a,b){const c=[],d=[];for(const l of b){b=Xc(W(a.H,l));for(const m of b.ka){var e=m.K;m.m+m.j>m.K.i.rb&&null!=Ld(a.client,e)&&c.push(e.o.g)}for(const m of b.G){b=d;e=b.push;var g=m;const p=new Qa(w(6));p.o=g.K.o.g;p.i=q(g.g.j);p.g=g.s?q(g.g.i):q(1E3*g.P);e.call(b,p)}}return{qb:c,Ca:d}}
class Md extends H{constructor(a,b,c,d,e,g){super();this.client=a;this.H=b;this.Y=c;this.Wa={};b=new Ra(w(10));const l=this.H.Qa();l.i=Id(c);b.g=l;var m=d.get(1);m&&c.includes(1)&&(b.j=h(m.map(p=>p.g)));(m=d.get(2))&&c.includes(2)&&(b.s=h(m.map(p=>p.g)));(d=d.get(4))&&c.includes(4)&&(b.m=h(d.map(p=>p.g)));c=Od(this,c);b.i=h(c.qb);b.Ca=h(c.Ca);b.wa=a.g.T.i.i.wa;b.g.jb=q(1E3*e);null!=g&&(b.g.ib=q(1E3*g));this.position=v(l.g)/1E3;this.lb=a.A.Pa({aa:this.aa.bind(this),ba:this.ba.bind(this),ub:[this],
url:a.s,kb:b,u:a.g.u});I(this,()=>{this.lb.cancel()});N.d(`CPN ${a.g.u}: new SABR fetch, playerTimeMs=${v(l.g)}.`)}start(){this.lb.start()}aa(){this.F||(N.d(`CPN ${this.client.g.u}: SABR fetch completed.`),this.client.aa())}ba(a){this.F||(N.d(`CPN ${this.client.g.u}: SABR fetch failed, e=${a.message}.`),this.client.ba(a))}fb(a){if(!this.F){N.d(()=>`CPN ${this.client.g.u}: SABR received MediaHeader `+(a.i?`with initindex segment, itag=${a.v}.`:`with media, itag=${a.o.v} sequence=${v(a.m)} startTimeMs=${v(a.j)} endTimeMs=${v(a.j)+
v(a.s)}.`));var b=Kd(this.client,a.o);void 0===b?(b=Rc(),b.g.set("sabr","clientmissingfmt"),b.g.set("itag",a.o.v.toString()),this.H.ma(b)):this.Wa[a.g]={offset:v(a.A),format:b,qa:a.i?void 0:new Mc(v(a.m),v(a.j),v(a.s))}}}Va(a,b){if(!this.F){var c=this.Wa[a.g];if(a.i){a=this.H;var d=c.format,e=c.offset;a.F||(a.m[d.o.v]={K:d,offset:e,size:b.length},a.A.oa(d.o,d.mimeType,b,e,-1))}else a:{a=this.H;d=c.format;e=c.qa;var g=c.offset,l=b;if(!a.F){var m=cd(W(a,d),e.g);if(void 0!==m&&void 0!==m.i)if(m.K.R(d)){if(m.s||
g>m.m+m.j)break a;if(g<m.m+m.j)if(m=m.m+m.j-g,m<l.length)l=Hc(l,m),g+=m;else break a}else if(m.s){if(!Pd(a,m,!1))break a}else Pd(a,m,!0);a.m[d.o.v]={K:d,offset:g,qa:e,size:l.length};a.A.oa(d.o,d.mimeType,l,g,e.g)}}c.offset+=b.length}}eb(a){if(!this.F){var b=this.Wa[a.g];if(a.i)a=this.H,b=b.format,a.F||(a.A.Ja(b.o,-1),delete a.m[b.o.v]);else{var c=this.H,d=b.format,e=b.qa.g;if(!c.F){c.A.Ja(d.o,e);var g=W(c,d);g=g.G[g.G.length-1];(null===g||void 0===g?void 0:g.g.g)===e?(g.s=!0,e=void 0):e=Vc();e&&(c.g.fa.L(e),
c.X());delete c.m[d.o.v]}c=Ld(this.client,b.format);if(null===c||void 0===c?0:c.g.R(a.m))a=this.H,b=kd(b.format),a.F||(c=a.g,W(a,b).g=!0,a.H.ga(c,b))}}}hb(a){!this.F&&y(a.h,1)&&(this.client.s=a.g)}gb(a){if(!this.F){this.client.g.i.Ga(a.g,!0,new Map);var b=Rc();b.g.set("sabr",a.g);this.H.ma(b)}}cb(a){this.F||this.client.m.push(a)}};function Qd(a){const b=a.ya.sb({Ia:(c,d)=>{c=a.g;c.U=d;c.ua=Date.now()/1E3}});return new Nd(a.i,b,a)}function Rd(a){a.g=void 0;a.m={}}function W(a,b){b instanceof wc&&(b=kd(b));return 2===b?a.Aa:a.xa}function Sd(a,b,c){c=null!==c&&void 0!==c?c:b.startTime;b={};for(const d of a.Y)b[d]=bd(W(a,d),c);return b}function Td(a,b,c,d){a.ea.set(b,c);1===d&&0<c.length&&Xc(W(a,b)).G.some(e=>{const g=e.K.o;return!c.some(l=>g.R(l))})&&(a.s.cancel([b]),Rd(a),a.I.ia(b),dd(W(a,b)))}
function Pd(a,b,c){const d=kd(b.K),e=W(a,d),g=bd(e,b.i);a=a.I.Ea(d,b.K.o,b.g.g,g.V,c);if(0===a.length)return!1;fd(e,a[0].da);return null==cd(e,b.g.g)}
var Ud=class extends H{constructor(a,b,c,d,e,g,l,m){super();this.i=a;this.H=b;this.A=c;this.I=d;this.Na=e;this.Y=g;this.ea=l;this.ya=m;this.xa=new hd(1);this.Aa=new hd(2);this.P=[];this.m={};this.A.W(this);this.s=Qd(this);I(this,ba(Ja,this.s));I(this,()=>{Rd(this)})}get za(){return null!=this.g}na(a,b,c,d){var e=this.m[a.v];if(null!=e){var g=W(this,e.K);if(null==e.qa)b=gd(g,e.K,e.offset,e.size);else a:{a=e.K;var l=e.qa,m=e.offset;e=e.size;let p=g.G[g.G.length-1];if((null===p||void 0===p?void 0:p.g.g)===
l.g){if(!p.K.R(a)){c=p.K;b="fmt";c.o.v!==a.o.v&&(b=`itag.${a.o.v}.expected.${c.o.v}`);c.o.D!==a.o.D&&(b=`xtags.${a.o.D}.expected.${c.o.D}`);c.o.J!==a.o.J&&(b=`lmt.${a.o.J}.expected.${c.o.J}`);c=Rc();c.g.set("mismatch",b);b=c;break a}if(p.m+p.j!==m){b=Uc();break a}}else{if(void 0!==p&&p.g.g!==l.g-1){b=Vc();break a}p=new Nc(a,m,l);g.G.push(p)}a=p;a.j+=e;a.A+=d;null!=b&&(null==a.i||b<a.i)&&(a.i=b);null!=c&&(null==a.I||c>a.I)&&(a.I=c);b=void 0}b&&(this.g.fa.L(b),this.X())}}fetch(a,b){this.g=a;this.s.fetch(b,
this.Y,this.ea,a.startTime,a.endTime)}ca(a){this.Y=a}seek(a,b){N.d(`CPN ${this.i.u}: Seeking to ${b}`);a.Ma=Date.now()/1E3;a=this.I.seek(b);for(const c of this.Y)-1!==a.indexOf(c)?N.d(`CPN ${this.i.u}: Buffered seek for ${c} succeeded.`):(N.d(`CPN ${this.i.u}: Buffered seek for ${c} failed, discarding buffer and cancelling any active fetch.`),this.s.cancel([c]),Rd(this),this.I.ia(c),dd(W(this,c)))}Ua(){if(!this.F){var a=this.g;a.j=Date.now()/1E3;Rd(this);this.H.Ua(a)}}ma(a){if(!this.F){var b=this.g;
Rd(this);this.H.ma(b,a)}}Qa(){return this.H.Qa(this.g)}};var Vd=class{constructor(a,b,c,d){this.i=a;this.fa=b;this.startTime=c;this.endTime=d}};function Wd(a){var b;return null!==(b=a.endTime)&&void 0!==b?b:a.g.duration}var Xd=class extends Vd{constructor(a,b,c,d,e){super(a,b,d,e);this.g=c}duration(){return Wd(this)-this.startTime}};class Yd{constructor(){this.i=this.g=this.j=0}}function Zd(a){for(const b of a)if(!(b.clip instanceof Xd))return!1;return!0}function $d(a,b){var c;const d=a.g.findIndex(g=>g.clip===b);var e=null!==(c=a.m.ja())&&void 0!==c?c:0;if(0===d)return e;a=a.g.slice(0,d);if(!Zd(a))return Number.MIN_VALUE;e=Wd(a[0].clip)-e;for(let g=1;g<d;g++)e+=a[g].clip.duration();return b.startTime-e}function ae(a,b){let c=a.j.get(b);null==c&&(c=new Yd,a.j.set(b,c));return c}
function be(a,b){var c,d;if(!a.g.some(g=>g.controller.za))for(let g=0;g<a.g.length;g++){var e=0===g?b:void 0;const l=a.g[g].clip,m=a.g[g].controller,p=Sd(m,l,e),r=null==l.endTime?Infinity:l.endTime-(null!==e&&void 0!==e?e:l.startTime);if(!Object.values(p).every(t=>t.ob||t.duration>=r)&&(e=Cd({T:m.i.T,U:l.U,ua:l.ua,nb:l.j,Ma:l.Ma,Ba:null===(c=p[1])||void 0===c?void 0:c.duration,Oa:null===(d=p[2])||void 0===d?void 0:d.duration}),0<e.length)){m.fetch(l,e);break}}}
function ce(a,b){return a.i.filter(c=>c.i.u===b)}function de(a,b){return a.g.find(c=>c.clip.i===b)}
var ee=class{constructor(a,b){this.m=a;this.A=b;this.g=[];this.i=[];this.j=new Map;w(0);this.s={Qa:c=>{const d=c.fa.Fa();d.g=q(1E3*$d(this,c));return d},ga:(c,d)=>{c.fa.ga(d)},Ua:c=>{ae(this,c.g.u).g=0;this.O()},ma:(c,d)=>{d.i?c.fa.L(d):(d=ae(this,c.g.u),d.g++,d.i++,d=ae(this,c.g.u),50>d.i&&20>d.g&&10>d.j?(d=Rc(),d.g.set("c","exceptionretryexhausted"),c.fa.L(d)):this.O())}};this.I={tb:c=>{c=ae(this,c.u);c.i++;c.j++}}}pa(a,b,c,d,e,g,l,m,p,r,t,C,u,fe,ge,he,Zc,$c,ad){N.d(`CPN ${d}: queing new video clip, queueId=${a}.`);
const ie=this.A.Da(d,m.i);e=this.i.find(Q=>Q.Na&&Q.i.u===d);null==e&&(p=p?[2]:[],null!=r&&p.push(1),null!=t&&p.push(4),r=new Map,null!=$c&&r.set(1,$c.map(Q=>new L(Q))),null!=Zc&&r.set(2,Zc.map(Q=>new L(Q))),null!=ad&&r.set(4,ad.map(Q=>new L(Q))),g=new jd(d,new xc(g),new Ac(l),new Bc(m),ge),e=new Ud(g,this.s,u,fe,he,p,r,{sb:Q=>new Hd(ie,[this.I,Q])}),this.i.push(e));a=new Xd(a,C,e.i,b,c);e.P.push(a);this.g.push({clip:a,controller:e});this.O()}seek(a){var b;null===(b=this.g[0])||void 0===b?void 0:b.controller.seek(this.g[0].clip,
a);this.O()}va(a){for(;this.g.length&&this.g[0].clip.i!==a;){var b=this.g.shift();if(null===b||void 0===b)void 0;else{var c=b.controller;b=b.clip;const d=c.P.indexOf(b);0<=d&&(c.g===b&&(c.s.cancel(),Rd(c)),c.P.splice(d,1));0===c.P.length&&c.X()}}this.g.length&&this.O()}reset(){for(const a of this.g)a.controller.X();this.g.length=0}O(){if(0!==this.g.length){var a=this.m.ja();be(this,a)}}ra(a,b,c){a=ce(this,a);for(const d of a)Td(d,1,b.map(e=>new L(e)),c);this.O()}sa(a,b,c){a=ce(this,a);for(const d of a)Td(d,
2,b.map(e=>new L(e)),c);this.O()}ta(a,b){a=de(this,a);null!=a&&(a.clip.endTime=b)}ca(a){for(const b of this.g){const c=a.get(b.clip.g.u);null!=c&&b.controller.ca(c)}this.O()}};function je(a){const b=[];for(const [c,d]of a){a=c;const e=d,g=new fc(w(2));g.name=a;g.value=e.join(",");b.push(g)}return b}var le=class{constructor(a){this.g=new V("com/google/android/libraries/youtube/media/player/scripted/fetch/generated/NetworkClientFactoryScriptedHandler");this.g.C(a)}Da(a,b){const c=new sc(w(2));c.u=a;c.g=b;const d=new Uint8Array(n(this.g.Da(c).g));return new ke(d,()=>void this.La(d))}La(a){const b=new uc(w(1));b.g=ua(a);this.g.La(b)}};
class ke extends H{constructor(a,b){super();this.i=0;this.g=new U("com/google/android/libraries/youtube/media/player/scripted/fetch/generated/NetworkClientScriptedHandler");this.g.C(a);I(this,()=>{b()})}Pa(a,b,c,d,e,g){const l=++this.i,m=new gc(w(7));m.u=a;m.url=b;m.s=ua(d);m.m=e;m.g=l;m.j=h(je(c));let p=!1;a=Object.create(g);a.$=r=>{p=!1;g.$(r)};a.Z=()=>{p=!1;g.Z()};m.i=nd(new me(a));return{start:()=>{p=!0;this.g.mb(m)},cancel:()=>{if(p){p=!1;const r=new ic(w(1));r.g=l;this.g.bb(r)}},Ra:()=>p}}}
class me{constructor(a){this.g=a}la(a){this.g.la(new Uint8Array(n(a.data)),a.offset,a.length);return new lc(w(0))}Ha(){return new nc(w(0))}Z(){this.g.Z();return new pc(w(0))}$(a){var b=this.g,c=b.$;a=a.g;const d=new Sc(a.code);d.i=a.i.valueOf();for(const e of a.g)d.g.set(e.key,e.value);c.call(b,d);return new rc(w(0))}};f("MediaFetchController",class{W(a){const b=new yd(new Uint8Array(n(a.j)));x(a.g.l(),1);const c=new le(new Uint8Array(n(a.m)));a=new Uint8Array(n(a.i));N.g=new M("com/google/android/libraries/youtube/media/player/scripted/fetch/generated/ScriptedConsoleLoggerScriptedHandler");N.g.C(a);this.g=new ee(b,c);return new yb(w(0))}O(){this.g.O();return new Ab(w(0))}pa(a){this.g.pa(a.g,a.Za,y(a.h,3)?a.Na:void 0,a.u,new Za(x(a.i.l(),0)),new $a(x(a.T.l(),12)),new ab(x(a.j.l(),12)),new bb(x(a.m.l(),12)),a.$a,
a.P,void 0,new zd(new Uint8Array(n(a.xa))),new td(new Uint8Array(n(a.ya))),new vd(new Uint8Array(n(a.za))),new qd(new Uint8Array(n(a.ea))),a.Aa,k(a.I).map(b=>La(b.l())),k(a.s).map(b=>La(b.l())),k(a.A).map(b=>La(b.l())));return new wb(w(0))}Xa(a){y(a.h,1)&&this.g.seek(a.g);return new Gb(w(0))}va(a){this.g.va(a.g);return new Cb(w(0))}reset(){this.g.reset();return new Eb(w(0))}ra(a){this.g.ra(a.u,k(a.g).map(b=>La(b.l())),a.i);return new Ib(w(0))}sa(a){this.g.sa(a.u,k(a.g).map(b=>La(b.l())),a.i);return new Kb(w(0))}ta(a){this.g.ta(a.i,
y(a.h,2)?a.g:void 0);return new Mb(w(0))}ca(a){const b=new Map;for(const c of a.g)b.set(c.u,k(c.pb));this.g.ca(b);return new Pb(w(0))}});var X=class{constructor(a){this.g=a}W(a){a=new xb(x(a,4));return this.g.W(a).l()}pa(a){a=new vb(x(a,12));return this.g.pa(a).l()}Xa(a){a=new Fb(x(a,1));return this.g.Xa(a).l()}va(a){a=new Bb(x(a,1));return this.g.va(a).l()}reset(a){a=new Db(x(a,0));return this.g.reset(a).l()}O(a){a=new zb(x(a,0));return this.g.O(a).l()}ra(a){a=new Hb(x(a,3));return this.g.ra(a).l()}sa(a){a=new Jb(x(a,3));return this.g.sa(a).l()}ta(a){a=new Lb(x(a,2));return this.g.ta(a).l()}ca(a){a=new Nb(x(a,1));return this.g.ca(a).l()}};
X.prototype.setEnabledTracks=X.prototype.ca;X.prototype.setClipEndTime=X.prototype.ta;X.prototype.setAllowedVideoFormats=X.prototype.sa;X.prototype.setAllowedAudioFormats=X.prototype.ra;X.prototype.fetchLoop=X.prototype.O;X.prototype.reset=X.prototype.reset;X.prototype.transitionToQueuedClip=X.prototype.va;X.prototype.seekTo=X.prototype.Xa;X.prototype.queueVideoClip=X.prototype.pa;X.prototype.initialize=X.prototype.W;X.wrap=function(a){return new X(a)};f("MediaFetchControllerNativeHandler",X);var ne=class{constructor(a){this.g=a}na(a){a=new Vb(x(a,4));return this.g.na(a).l()}L(a){a=new Xb(x(a,0));return this.g.L(a).l()}};ne.prototype.onError=ne.prototype.L;ne.prototype.onParse=ne.prototype.na;ne.wrap=function(a){return new ne(a)};f("MediaParsersListenerNativeHandler",ne);var Y=class{constructor(a){this.g=a}la(a){a=new kc(x(a,4));return this.g.la(a).l()}Ha(a){a=new mc(x(a,3));return this.g.Ha(a).l()}Z(a){a=new oc(x(a,1));return this.g.Z(a).l()}$(a){a=new qc(x(a,2));return this.g.$(a).l()}};Y.prototype.netFailed=Y.prototype.$;Y.prototype.netDone=Y.prototype.Z;Y.prototype.netPushHttpResponse=Y.prototype.Ha;Y.prototype.netPush=Y.prototype.la;Y.wrap=function(a){return new Y(a)};f("NetworkClientCallbackNativeHandler",Y);var Z=class{constructor(a){this.g=a}d(a){a=new jb(x(a,2));return this.g.d(a).l()}w(a){a=new jb(x(a,2));return this.g.w(a).l()}e(a){a=new jb(x(a,2));return this.g.e(a).l()}};Z.prototype.e=Z.prototype.e;Z.prototype.w=Z.prototype.w;Z.prototype.d=Z.prototype.d;Z.wrap=function(a){return new Z(a)};f("ScriptedConsoleLoggerNativeHandler",Z);
