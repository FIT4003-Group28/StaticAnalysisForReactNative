package defpackage;

import java.util.List;
/* JADX INFO: Access modifiers changed from: package-private */
/* compiled from: PG */
/* renamed from: bxdj  reason: default package */
/* loaded from: classes4.dex */
public final class bxdj implements bwrr<ilo> {
    final /* synthetic */ bxdn a;

    public bxdj(bxdn bxdnVar) {
        this.a = bxdnVar;
    }

    @Override // defpackage.bwrr
    public final /* bridge */ /* synthetic */ void PV(@dzsi ilo iloVar) {
        dehn<bwzw> h;
        dehn<bwzw> dehnVar;
        ilo a;
        final ilo iloVar2 = iloVar;
        if (iloVar2 == null) {
            return;
        }
        bxdn bxdnVar = this.a;
        bruz bruzVar = bxdnVar.x;
        if (bruzVar != null) {
            bwrs<ilo> bwrsVar = bxdnVar.v;
            dbsk.s(bwrsVar);
            bruzVar.QR(bwrsVar);
            cqkx.p(this.a.x);
        }
        bxdn bxdnVar2 = this.a;
        brwk brwkVar = bxdnVar2.y;
        if (brwkVar != null) {
            bwrs<ilo> bwrsVar2 = bxdnVar2.v;
            dbsk.s(bwrsVar2);
            brwkVar.QR(bwrsVar2);
            cqkx.p(this.a.y);
        }
        bxdn bxdnVar3 = this.a;
        final dwfl dwflVar = bxdnVar3.m;
        if (dwflVar == null) {
            return;
        }
        bwzw bwzwVar = bxdnVar3.A;
        if (bwzwVar != null && (((a = bwzwVar.a()) != null && !this.a.A.a().equals(iloVar2)) || a == null)) {
            bxdn bxdnVar4 = this.a;
            bxdnVar4.A = null;
            cqkx.p(bxdnVar4);
        }
        final bxaf bxafVar = this.a.i;
        if (iloVar2 != bxafVar.f || (h = bxafVar.g) == null) {
            duuu duuuVar = bxafVar.b.getImageryViewerParameters().i;
            if (duuuVar == null) {
                duuuVar = duuu.d;
            }
            if (!duuuVar.a) {
                bwzu e = bwzw.e();
                ((bwzs) e).a = iloVar2;
                h = deha.a(e.a());
            } else {
                if (iloVar2 != bxafVar.f && (dehnVar = bxafVar.g) != null) {
                    dehnVar.cancel(true);
                    bxafVar.g = null;
                }
                bxafVar.f = iloVar2;
                dehn[] dehnVarArr = new dehn[2];
                buti butiVar = bxafVar.c;
                dizh dizhVar = dwflVar.p;
                if (dizhVar == null) {
                    dizhVar = dizh.j;
                }
                dggg dgggVar = dizhVar.b;
                if (dgggVar == null) {
                    dgggVar = dggg.d;
                }
                dcdc f = dcdc.f(dgggVar);
                dwfy bZ = dwge.m.bZ();
                if (bZ.c) {
                    bZ.bF();
                    bZ.c = false;
                }
                dwge dwgeVar = (dwge) bZ.b;
                dwgeVar.b = 5;
                dwgeVar.a |= 1;
                dwfs bZ2 = dwfv.m.bZ();
                dwfr dwfrVar = bxaf.a;
                if (bZ2.c) {
                    bZ2.bF();
                    bZ2.c = false;
                }
                dwfv dwfvVar = (dwfv) bZ2.b;
                dwfrVar.getClass();
                dwfvVar.c = dwfrVar;
                dwfvVar.a |= 2;
                if (bZ.c) {
                    bZ.bF();
                    bZ.c = false;
                }
                dwge dwgeVar2 = (dwge) bZ.b;
                dwfv bK = bZ2.bK();
                bK.getClass();
                dwgeVar2.h = bK;
                dwgeVar2.a |= 128;
                bZ.a(f);
                dehnVarArr[0] = butiVar.c(bZ.bK());
                buti butiVar2 = bxafVar.c;
                dwfy bZ3 = dwge.m.bZ();
                if (bZ3.c) {
                    bZ3.bF();
                    bZ3.c = false;
                }
                dwge dwgeVar3 = (dwge) bZ3.b;
                dwgeVar3.b = 2;
                dwgeVar3.a |= 1;
                dnip bZ4 = dniu.i.bZ();
                String o = iloVar2.ai().o();
                if (bZ4.c) {
                    bZ4.bF();
                    bZ4.c = false;
                }
                dniu dniuVar = (dniu) bZ4.b;
                o.getClass();
                dniuVar.a |= 1;
                dniuVar.b = o;
                if (bZ3.c) {
                    bZ3.bF();
                    bZ3.c = false;
                }
                dwge dwgeVar4 = (dwge) bZ3.b;
                dniu bK2 = bZ4.bK();
                bK2.getClass();
                dwgeVar4.c = bK2;
                dwgeVar4.a |= 8;
                dwfs bZ5 = dwfv.m.bZ();
                dwei bZ6 = dwej.b.bZ();
                dweg bZ7 = dweh.d.bZ();
                dwee bZ8 = dwef.c.bZ();
                dweb dwebVar = dweb.STOREFRONT;
                if (bZ8.c) {
                    bZ8.bF();
                    bZ8.c = false;
                }
                dwef dwefVar = (dwef) bZ8.b;
                dwefVar.b = dwebVar.i;
                dwefVar.a |= 1;
                bZ7.a(bZ8);
                bZ6.a(bZ7);
                if (bZ5.c) {
                    bZ5.bF();
                    bZ5.c = false;
                }
                dwfv dwfvVar2 = (dwfv) bZ5.b;
                dwej bK3 = bZ6.bK();
                bK3.getClass();
                dwfvVar2.f = bK3;
                dwfvVar2.a |= 32;
                dwfr dwfrVar2 = bxaf.a;
                if (bZ5.c) {
                    bZ5.bF();
                    bZ5.c = false;
                }
                dwfv dwfvVar3 = (dwfv) bZ5.b;
                dwfrVar2.getClass();
                dwfvVar3.c = dwfrVar2;
                dwfvVar3.a = 2 | dwfvVar3.a;
                dwfv dwfvVar4 = (dwfv) bZ5.b;
                dwfvVar4.l = 4;
                dwfvVar4.a |= 2048;
                if (bZ3.c) {
                    bZ3.bF();
                    bZ3.c = false;
                }
                dwge dwgeVar5 = (dwge) bZ3.b;
                dwfv bK4 = bZ5.bK();
                bK4.getClass();
                dwgeVar5.h = bK4;
                dwgeVar5.a |= 128;
                dehnVarArr[1] = butiVar2.c(bZ3.bK());
                h = deew.h(deha.i(dehnVarArr), new dbrn(bxafVar, dwflVar, iloVar2) { // from class: bwzy
                    private final bxaf a;
                    private final dwfl b;
                    private final ilo c;

                    {
                        this.a = bxafVar;
                        this.b = dwflVar;
                        this.c = iloVar2;
                    }

                    @Override // defpackage.dbrn
                    public final Object a(Object obj) {
                        bxaf bxafVar2 = this.a;
                        dwfl dwflVar2 = this.b;
                        ilo iloVar3 = this.c;
                        List list = (List) obj;
                        int i = 2;
                        dbsk.a(list.size() == 2);
                        dwgl dwglVar = (dwgl) ((btzx) list.get(0)).b();
                        dwgl dwglVar2 = (dwgl) ((btzx) list.get(1)).b();
                        if (dwglVar.b.size() == 1) {
                            dwfl dwflVar3 = dwglVar.b.get(0);
                            dcbg b = dcbg.b(dwglVar2.b);
                            if (b.y()) {
                                dizh dizhVar2 = dwflVar3.p;
                                if (dizhVar2 == null) {
                                    dizhVar2 = dizh.j;
                                }
                                dggg dgggVar2 = dizhVar2.b;
                                if (dgggVar2 == null) {
                                    dgggVar2 = dggg.d;
                                }
                                bxafVar2.c(5, null, dgggVar2);
                                bwzu e2 = bwzw.e();
                                ((bwzs) e2).a = iloVar3;
                                return e2.a();
                            }
                            final dhpf b2 = bxaf.b(dwflVar3);
                            dcbg o2 = b.o(new dbsl(b2) { // from class: bxaa
                                private final dhpf a;

                                {
                                    this.a = b2;
                                }

                                @Override // defpackage.dbsl
                                public final boolean a(Object obj2) {
                                    return bxaf.h.compare(bxaf.b((dwfl) obj2), this.a) > 0;
                                }
                            });
                            if (!o2.y()) {
                                duuu duuuVar2 = bxafVar2.b.getImageryViewerParameters().i;
                                if (duuuVar2 == null) {
                                    duuuVar2 = duuu.d;
                                }
                                eapd f2 = new eapd(bxafVar2.d.b()).f(eaow.d(duuuVar2.b));
                                dhpe bZ9 = dhpf.i.bZ();
                                int F = f2.F(eaop.g);
                                if (bZ9.c) {
                                    bZ9.bF();
                                    bZ9.c = false;
                                }
                                dhpf dhpfVar = (dhpf) bZ9.b;
                                dhpfVar.a = 1 | dhpfVar.a;
                                dhpfVar.b = F;
                                int F2 = f2.F(eaop.i);
                                if (bZ9.c) {
                                    bZ9.bF();
                                    bZ9.c = false;
                                }
                                dhpf dhpfVar2 = (dhpf) bZ9.b;
                                dhpfVar2.a |= 2;
                                dhpfVar2.c = F2;
                                int F3 = f2.F(eaop.j);
                                if (bZ9.c) {
                                    bZ9.bF();
                                    bZ9.c = false;
                                }
                                dhpf dhpfVar3 = (dhpf) bZ9.b;
                                dhpfVar3.a |= 4;
                                dhpfVar3.d = F3;
                                int F4 = f2.F(eaop.s);
                                if (bZ9.c) {
                                    bZ9.bF();
                                    bZ9.c = false;
                                }
                                dhpf dhpfVar4 = (dhpf) bZ9.b;
                                dhpfVar4.a |= 8;
                                dhpfVar4.e = F4;
                                int F5 = f2.F(eaop.u);
                                if (bZ9.c) {
                                    bZ9.bF();
                                    bZ9.c = false;
                                }
                                dhpf dhpfVar5 = (dhpf) bZ9.b;
                                dhpfVar5.a |= 16;
                                dhpfVar5.f = F5;
                                final dhpf bK5 = bZ9.bK();
                                dcbg o3 = o2.o(new dbsl(bK5) { // from class: bxab
                                    private final dhpf a;

                                    {
                                        this.a = bK5;
                                    }

                                    @Override // defpackage.dbsl
                                    public final boolean a(Object obj2) {
                                        return bxaf.h.compare(bxaf.b((dwfl) obj2), this.a) > 0;
                                    }
                                });
                                if (o3.y()) {
                                    i = 4;
                                }
                                dizh dizhVar3 = dwflVar3.p;
                                if (dizhVar3 == null) {
                                    dizhVar3 = dizh.j;
                                }
                                dggg dgggVar3 = dizhVar3.b;
                                if (dgggVar3 == null) {
                                    dgggVar3 = dggg.d;
                                }
                                bxafVar2.c(i, null, dgggVar3);
                                bwzu e3 = bwzw.e();
                                ((bwzs) e3).a = iloVar3;
                                e3.b(o3.A(bxac.a));
                                return e3.a();
                            }
                            dizh dizhVar4 = dwflVar3.p;
                            if (dizhVar4 == null) {
                                dizhVar4 = dizh.j;
                            }
                            dggg dgggVar4 = dizhVar4.b;
                            if (dgggVar4 == null) {
                                dgggVar4 = dggg.d;
                            }
                            bxafVar2.c(3, null, dgggVar4);
                            bwzu e4 = bwzw.e();
                            ((bwzs) e4).a = iloVar3;
                            return e4.a();
                        }
                        dwglVar.b.size();
                        dizh dizhVar5 = dwflVar2.p;
                        if (dizhVar5 == null) {
                            dizhVar5 = dizh.j;
                        }
                        dggg dgggVar5 = dizhVar5.b;
                        if (dgggVar5 == null) {
                            dgggVar5 = dggg.d;
                        }
                        bxafVar2.c(6, null, dgggVar5);
                        bwzu e5 = bwzw.e();
                        ((bwzs) e5).a = iloVar3;
                        return e5.a();
                    }
                }, bxafVar.e);
                dizh dizhVar2 = dwflVar.p;
                if (dizhVar2 == null) {
                    dizhVar2 = dizh.j;
                }
                dggg dgggVar2 = dizhVar2.b;
                if (dgggVar2 == null) {
                    dgggVar2 = dggg.d;
                }
                deha.q(h, new bxad(bxafVar, dgggVar2), bxafVar.e);
                bxafVar.g = h;
            }
        }
        deha.q(h, new bxdi(this), this.a.k);
    }
}
